"use strict";(self.webpackChunkimjuni_home=self.webpackChunkimjuni_home||[]).push([[984],{6388:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>N,contentTitle:()=>k,default:()=>P,frontMatter:()=>O,metadata:()=>C,toc:()=>E});var r=t(1527),a=t(6274),i=t(959),o=t(5924),s=t(118),c=t(8903),l=t(5339),d=t(9316),u=t(6006),h=t(3623);function p(e){return i.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function m(e){const{values:n,children:t}=e;return(0,i.useMemo)((()=>{const e=n??function(e){return p(e).map((e=>{let{props:{value:n,label:t,attributes:r,default:a}}=e;return{value:n,label:t,attributes:r,default:a}}))}(t);return function(e){const n=(0,u.l)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function g(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function y(e){let{queryString:n=!1,groupId:t}=e;const r=(0,c.k6)(),a=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,d._X)(a),(0,i.useCallback)((e=>{if(!a)return;const n=new URLSearchParams(r.location.search);n.set(a,e),r.replace({...r.location,search:n.toString()})}),[a,r])]}function f(e){const{defaultValue:n,queryString:t=!1,groupId:r}=e,a=m(e),[o,s]=(0,i.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!g({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const r=t.find((e=>e.default))??t[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:a}))),[c,d]=y({queryString:t,groupId:r}),[u,p]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[r,a]=(0,h.Nk)(t);return[r,(0,i.useCallback)((e=>{t&&a.set(e)}),[t,a])]}({groupId:r}),f=(()=>{const e=c??u;return g({value:e,tabValues:a})?e:null})();(0,l.Z)((()=>{f&&s(f)}),[f]);return{selectedValue:o,selectValue:(0,i.useCallback)((e=>{if(!g({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);s(e),d(e),p(e)}),[d,p,a]),tabValues:a}}var x=t(5089);const b={tabList:"tabList_GQMQ",tabItem:"tabItem_Y22w"};function j(e){let{className:n,block:t,selectedValue:a,selectValue:i,tabValues:c}=e;const l=[],{blockElementScrollPositionUntilNextRender:d}=(0,s.o5)(),u=e=>{const n=e.currentTarget,t=l.indexOf(n),r=c[t].value;r!==a&&(d(n),i(r))},h=e=>{let n=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const t=l.indexOf(e.currentTarget)+1;n=l[t]??l[0];break}case"ArrowLeft":{const t=l.indexOf(e.currentTarget)-1;n=l[t]??l[l.length-1];break}}n?.focus()};return(0,r.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":t},n),children:c.map((e=>{let{value:n,label:t,attributes:i}=e;return(0,r.jsx)("li",{role:"tab",tabIndex:a===n?0:-1,"aria-selected":a===n,ref:e=>l.push(e),onKeyDown:h,onClick:u,...i,className:(0,o.Z)("tabs__item",b.tabItem,i?.className,{"tabs__item--active":a===n}),children:t??n},n)}))})}function I(e){let{lazy:n,children:t,selectedValue:a}=e;const o=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=o.find((e=>e.props.value===a));return e?(0,i.cloneElement)(e,{className:"margin-top--md"}):null}return(0,r.jsx)("div",{className:"margin-top--md",children:o.map(((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==a})))})}function S(e){const n=f(e);return(0,r.jsxs)("div",{className:(0,o.Z)("tabs-container",b.tabList),children:[(0,r.jsx)(j,{...e,...n}),(0,r.jsx)(I,{...e,...n})]})}function D(e){const n=(0,x.Z)();return(0,r.jsx)(S,{...e,children:p(e.children)},String(n))}const T={tabItem:"tabItem_JbbH"};function v(e){let{children:n,hidden:t,className:a}=e;return(0,r.jsx)("div",{role:"tabpanel",className:(0,o.Z)(T.tabItem,a),hidden:t,children:n})}const O={title:"Design of Entity & DTO",sidebar_position:1},k=void 0,C={id:"backend/node/entity_dto",title:"Design of Entity & DTO",description:"Background",source:"@site/i18n/ko/docusaurus-plugin-content-docs/current/backend/node/entity_dto.mdx",sourceDirName:"backend/node",slug:"/backend/node/entity_dto",permalink:"/imjuni/ko/backend/node/entity_dto",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"Design of Entity & DTO",sidebar_position:1},sidebar:"aboutSidebar",previous:{title:"Introduction",permalink:"/imjuni/ko/backend/"},next:{title:"Async Context",permalink:"/imjuni/ko/backend/node/async_context"}},N={},E=[{value:"Background",id:"background",level:2},{value:"Requirements",id:"requirements",level:2},{value:"Entity",id:"entity",level:2}];function w(e){const n={a:"a",code:"code",h2:"h2",img:"img",p:"p",pre:"pre",...(0,a.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"background",children:"Background"}),"\n",(0,r.jsxs)(n.p,{children:["\ucd5c\uadfc ",(0,r.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Hexagonal_architecture_(software)",children:"Hexagonal Architecture"}),"\ub294 \ud655\uc7a5\uc131\uc774 \ub192\uace0, \uc548\uc815\uc801\uc778 MSA \uc544\ud0a4\ud14d\ucc98\ub97c \uad6c\ucd95\ud558\uae30 \uc704\ud574 \ub9ce\uc774 \uc0ac\uc6a9\ub429\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"hexagonal architecture",src:t(4797).Z+"",width:"500",height:"500"})}),"\n",(0,r.jsxs)(n.p,{children:["RDBMS\ub97c \ud65c\uc6a9\ud55c Application Core \uac19\uc740 \uacbd\uc6b0 Adaptor\ub97c \uac70\uccd0 \ub370\uc774\ud130\uac00 DB Entity\ub85c \ubcc0\uacbd\ub418\uac70\ub098 \ub610\ub294 DTO\ub85c \ubcc0\uacbd\ub429\ub2c8\ub2e4. RDBMS\uc5d0\uc11c Entity\uc640 DTO\ub294 \ud56d\uc0c1 \ub3d9\uc77c \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. 1",":N",", M",":N","\uacfc \uac19\uc740 \uad00\uacc4\ub97c \ud45c\ud604\ud560 \ub54c DTO\ub294 \ubcf5\uc7a1\ud55c relation \ud14c\uc774\ube14\uc744 \uac10\ucd94\uace0 \uacc4\uce35 \uad6c\uc870\ub85c \ud45c\ud604\ud558\ub294 \uacbd\uc6b0\uac00 \ub9ce\uc544 \ub458\uc740 \ub2e4\ub978 \ud615\ud0dc\ub85c \uad00\ub9ac\ub429\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(n.p,{children:["decorator\ub97c \uc0ac\uc6a9\ud558\uc5ec Entity\uc640 DTO\ub97c \uad00\ub9ac\ud558\ub294 \uac83\uc774 \uc77c\ubc18\uc801\uc778 \ubc29\ubc95\uc785\ub2c8\ub2e4. \ud558\uc9c0\ub9cc \uc774 \ubc29\ubc95\uc740 DTO\uc758 \uc0c1\uc18d\uacfc \ud569\uc131\uc744 \uc704\ud574 \ud544\uc694\ud55c \ud559\uc2b5 \uace1\uc120\uc774 \ub192\uace0, Entity\uac00 \ubcc0\uacbd\ub418\uc5c8\uc744 \ub54c \uadf8 \ubcc0\uacbd\uc774 DTO\uc5d0 \ubc18\uc601\ub418\uc9c0 \uc54a\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub610\ud55c 1",":N",", M",":N"," \ub4f1\uc758 \uad00\uacc4 \ud45c\ud604\uc744 \uc704\ud574\uc11c \uc5ec\ub7ec \uacc4\uce35\uc73c\ub85c \uad6c\uc131\ub41c DTO\ub97c \uc791\uc131\ud558\uc600\uc744 \ub54c Schema Validation\uacfc \ud569\uc131\uc5d0 \ud544\uc694\ud55c boilerplate code\uac00 \uc5b4\ub835\uace0 \ub9ce\uc2b5\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.p,{children:"\uadf8\ub798\uc11c \ud559\uc2b5 \uace1\uc120\uc774 \uc791\uace0, \ud569\uc131, \uc0c1\uc18d \ucc38\uc870 \ub4f1 \ub2e4\uc591\ud55c \uc0c1\ud669\uc5d0\uc11c \uc720\uc5f0\ud558\uac8c \uc0ac\uc6a9 \uac00\ub2a5\ud55c DTO \uc791\uc131 \ubc95\uc774 \ud544\uc694\ud569\ub2c8\ub2e4. \ub610\ud55c DTO \uc791\uc131\uacfc \ubb38\uc11c\ud654 \ubc0f Validation\uc774 \ub3d9\uc2dc\uc5d0 \uc774\ub904\uc838\uc57c \ud558\uba70 Entity \ubcc0\uacbd \uc0ac\ud56d\uc774 compile-time\uc5d0 \uc624\ub958 \ub610\ub294 \uacbd\uace0\ub85c \uac1c\ubc1c\uc790\uac00 \uc778\uc9c0\ud560 \uc218 \uc788\uc5b4\uc57c \ud569\ub2c8\ub2e4."}),"\n",(0,r.jsx)(n.p,{children:"TypeScript\ub294 \uc778\ud130\ud398\uc774\uc2a4\ub97c \uc0ac\uc6a9\ud574\uc11c \ud0c0\uc785\uc744 \uc120\uc5b8\ud560 \uc218 \uc788\uace0 \ud655\uc7a5\uacfc \ud569\uc131\uc744 \ud1b5\ud574 \uc720\uc5f0\ud55c \ud0c0\uc785 \uc120\uc5b8 \uae30\ub2a5\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4. \ubcf8 \ubb38\uc11c\uc5d0\uc11c\ub294 TypeScript\uac00 \uc778\ud130\ud398\uc774\uc2a4\ub97c \uc0ac\uc6a9\ud574\uc11c \uc720\uc5f0\ud558\uace0 \ud655\uc7a5\ud558\uae30 \uc26c\uc6b4 Entity, DTO \uc0ac\uc6a9\ubc95\uc5d0 \ub300\ud574\uc11c \uc815\ub9ac\ud558\uace0 boilerplate code \uc791\uc131\uc744 \ucd5c\uc18c\ud654\ud558\uace0 \ubb38\uc11c\ud654, Validation \uae4c\uc9c0 \ud55c \ubc88\uc5d0 \ud560 \uc218 \uc788\ub294 \ubc29\ubc95\uc744 \uc0b4\ud3b4\ubcfc \uac83\uc785\ub2c8\ub2e4."}),"\n",(0,r.jsx)(n.h2,{id:"requirements",children:"Requirements"}),"\n",(0,r.jsx)(n.p,{children:"\ubcf8 \ubb38\uc11c\uc5d0\uc11c\ub294 ORM \ud328\ud0a4\uc9c0\ub85c TypeORM\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4. TypeORM Entity \uc791\uc131\uc744 \uc704\ud574 class, decorator\ub97c \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uace0 EntitySchema \ud074\ub798\uc2a4\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4. \uc774\ub294 \uac1c\uc778\uc758 \uc120\ud638\uc5d0 \ub530\ub978 \uac83\uc73c\ub85c, \uc800\ub294 EntitySchema \uc0ac\uc6a9\uc744 \ub354 \uc120\ud638\ud569\ub2c8\ub2e4. \ub610\ud55c OpenAPI \ubb38\uc11c\ud654 \ubc0f Schema Validationd\uc744 \uc704\ud574 ts-json-schema-generator\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4."}),"\n",(0,r.jsxs)(n.p,{children:["\ub610\ud55c \uc774\ud574\ub97c \ub3d5\uae30 \uc704\ud574 \uc608\uc81c\ub85c \ub110\ub9ac \uc0ac\uc6a9\ub418\ub294 ",(0,r.jsx)(n.a,{href:"https://petstore.swagger.io/#/",children:"Pet Store"}),"\ub97c \uc804\uccb4 \ub610\ub294 \uc77c\ubd80 \uad6c\ud604\ud558\ub294 \uac83\uc744 \ubaa9\ud45c\ub85c \uc124\uba85\ud560 \uac83\uc785\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.h2,{id:"entity",children:"Entity"}),"\n",(0,r.jsx)(n.p,{children:"Pet Store\ub294 \ub9ce\uc740 \uc5d4\ud2f0\ud2f0\uac00 \uc788\uc9c0\ub9cc \ubb38\uc11c\uc5d0\uc11c\ub294 Pet, Category, Tag\ub97c \uba3c\uc800 \ub2e4\ub904\ubcfc \uac83\uc785\ub2c8\ub2e4. Category, Tag \uc5d4\ud2f0\ud2f0\ub294 \ub2e4\uc74c\uacfc \uac19\uc774 \uc778\ud130\ud398\uc774\uc2a4\ub85c \uc815\uc758\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:'export interface IBaseEntity {\n  /**\n   * id\n   *\n   * @asType integer\n   */\n  id: number;\n}\n\n/**\n * Category of Pet, Store\n */\nexport interface ICategory {\n  id: IBaseEntity["id"];\n\n  /**\n   * Category name\n   *\n   * @maxLength 200\n   * @minLength 2\n   */\n  name: string;\n}\n\n/**\n * Tag of Pet, Store\n */\nexport interface ITag {\n  id: IBaseEntity["id"];\n\n  /**\n   * Tag name\n   *\n   * @maxLength 200\n   * @minLength 3\n   */\n  name: string;\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"ICategory"}),"\uc640 ",(0,r.jsx)(n.code,{children:"ITag"})," \uc5d4\ud2f0\ud2f0 \uc778\ud130\ud398\uc774\uc2a4\ub294 \ube44\uad50\uc801 \uac04\ub2e8\ud558\uac8c \uad6c\uc131\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4. \uadf8\ub7f0\ub370 PK \uc5ed\ud560\uc744 \ud558\ub294 id \ud544\ub4dc\ub97c ",(0,r.jsx)(n.a,{href:"https://www.typescriptlang.org/docs/handbook/2/indexed-access-types.html",children:"indexed access type"}),"\uc744 \uc0ac\uc6a9\ud574\uc11c ",(0,r.jsx)(n.code,{children:"IBaseEntity"})," \uc778\ud130\ud398\uc774\uc2a4\uc758 id \ubcc0\uc218\ub97c \uc0ac\uc6a9\ud55c \uac83\uc744 \ubcfc \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc55e\uc73c\ub85c \ubaa8\ub4e0 \uc5d4\ud2f0\ud2f0\uc640 DTO\ub97c \uc124\uacc4\ud560 \ub54c \uc0c1\uc18d(",(0,r.jsx)(n.code,{children:"extends"}),")\uc744 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uace0 indexed access types\ub9cc \uc0ac\uc6a9\ud560 \uac83\uc785\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.p,{children:"fastify\ub294 Querystring, Body, Params, Headers 4\uac00\uc9c0 \uc694\uc18c\ub97c \uac01\uac01 \ubcc4\ub3c4\uc758 \ud0c0\uc785\uacfc JSONSchema\ub85c \uc785\ub825 \ubc1b\uc2b5\ub2c8\ub2e4. \uadf8\ub798\uc11c DTO\ub97c \uad6c\uc131\ud55c\ub2e4\uba74 \uc544\ub798\uc640 \uac19\uc774 \uad6c\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:'import type { ICategory } from "#/database/interfaces/ICategory";\nimport type { ICategory } from "#/database/interfaces/ICategory";\nimport type { ITid } from "#/dto/common/ITid";\n\n/**\n * CategoryDto of Pet, Store\n */\nexport interface ICategoryDto {\n  id: ICategory["id"];\n\n  name: ICategory["name"];\n}\n\nexport interface IPostCategoryQuerystringDto {\n  tid: ITid["tid"];\n}\n\nexport interface IPostCategoryBodyDto {\n  name: ICategory["name"];\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["\uc55e\uc11c \uc5b8\uae09\ud55c \uac83\uacfc \uac19\uc774 \uc751\ub2f5 \ubaa8\ub378\ub85c \uc0ac\uc6a9\ud560 DTO\ub97c \ub9cc\ub4e4\uace0, \uc774 \ud6c4 Querystring, Body \ub4f1\uc5d0 \ub300\ud55c DTO\ub97c \ubcc4\ub3c4\ub85c \ub9cc\ub4e4\uc5c8\uc2b5\ub2c8\ub2e4. indexed access type\uc744 \uc0ac\uc6a9\ud558\uba74 DTO\ub97c \uc190\uc27d\uac8c \uad6c\ucd95\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub9cc\uc57d M",":N"," \uad00\uacc4\ub97c \uac00\uc9c0\ub294 ",(0,r.jsx)(n.code,{children:"IPetDto"})," DTO\ub97c \uc791\uc131\ud558\ub294 \uac83\ub3c4 \uc5b4\ub835\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:'import type { IPet } from "#/database/interfaces/IPet";\nimport type { ICategoryDto } from "#/dto/v1/category/ICategoryDto";\nimport type { ITagDto } from "#/dto/v1/tag/ITagDto";\n\nexport interface IPetDto {\n  id: IPet["id"];\n\n  name: IPet["name"];\n\n  category: ICategoryDto[];\n\n  tag: ITagDto[];\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"\uc774 \ubc29\uc2dd\uc758 DTO \uc791\uc131\uc740 boilerplate code \uc791\uc131\uc744 \ucd5c\uc18c\ud654\ud569\ub2c8\ub2e4. \uc791\uc131\ud55c DTO\ub294 fastify \ud0c0\uc785 \uc804\ub2ec\uc744 \uc704\ud574 \uaf2d \ud544\uc694\ud55c \uac83\uc744 \uc791\uc131\ud55c \uac83\uc785\ub2c8\ub2e4. \uadf8\ub9ac\uace0 \uc6b0\ub9ac\ub294 \ubb38\uc11c \uc790\ub3d9\ud654, \uc785\ub825 \uac12 \uac80\uc99d \uc790\ub3d9\ud654\ub97c \uc704\ud574 \uc774 DTO\ub97c JSONSchema\ub85c \ubcc0\ud658\ud560 \uac83\uc785\ub2c8\ub2e4. JSONSchema \ubcc0\ud658\uc744 \uc704\ud574\uc11c \ub2e4\uc74c\uacfc \uac19\uc774 ts-json-schema-generator\ub97c \uc124\uce58\ud569\ub2c8\ub2e4."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm i ts-json-schema-generator --save-dev\n"})}),"\n",(0,r.jsx)(n.p,{children:"\uad6c\uc870\uac00 \ub2e8\uc21c\ud55c ICategoryDto\ub97c \uba3c\uc800 \ubcc0\ud658\ud574\ubd05\ub2c8\ub2e4. ts-json-schema-generator\ub294 \ud544\uc218 \uc785\ub825 \uac12\uc73c\ub85c \ud30c\uc77c \uacbd\ub85c\uc640 \ud0c0\uc785\uc744 \uc804\ub2ec \ubc1b\uae30 \ub54c\ubb38\uc5d0 \ub2e4\uc74c\uacfc \uac19\uc774 \uc2e4\ud589\ud569\ub2c8\ub2e4."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npx ts-json-schema-generator --path ./src/dto/v1/category/ICategoryDto.ts --type ICategoryDto --tsconfig ./tsconfig.json\n"})}),"\n",(0,r.jsx)(n.p,{children:"re-map paths \uae30\ub2a5\uc744 \uc0ac\uc6a9\ud574\uc11c \uc808\ub300 \uacbd\ub85c\ub97c \uc0ac\uc6a9\ud558\uba74 tsconfig.json \ud30c\uc77c\uc744 \uaf2d \uc778\uc790\ub85c \uc804\ub2ec\ud574\uc57c \ud569\ub2c8\ub2e4. \uadf8\ub9ac\uace0 tsconfig.json \ud30c\uc77c\uc5d0 noEmit, emitDeclarationOnly \ub4f1\uc758 \uc635\uc158\uc744 \ud65c\uc131\ud654\ud558\ub294 \uacbd\uc6b0\uc5d0 JSONSchema \ud30c\uc77c\uc774 \uc0dd\uc131\ub418\uc9c0 \uc54a\uc73c\ub2c8 \uc8fc\uc758\ud569\ub2c8\ub2e4. \uc131\uacf5\uc801\uc73c\ub85c JSONSchema \ud30c\uc77c\uc774 \uc0dd\uc131\ub418\uc5c8\ub2e4\uba74 \ub2e4\uc74c\uacfc \uac19\uc740 JSONSchema\uac00 \ucf58\uc194\uc744 \ud1b5\ud574\uc11c \ucd9c\ub825\ub429\ub2c8\ub2e4."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "$ref": "#/definitions/ICategoryDto",\n  "$schema": "http://json-schema.org/draft-07/schema#",\n  "definitions": {\n    "ICategoryDto": {\n      "additionalProperties": false,\n      "description": "CategoryDto of Pet, Store",\n      "properties": {\n        "id": {\n          "description": "category id",\n          "type": "integer"\n        },\n        "name": {\n          "description": "category name",\n          "maxLength": 200,\n          "minLength": 2,\n          "type": "string"\n        }\n      },\n      "required": ["id", "name"],\n      "type": "object"\n    }\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["\uc774\ubbf8 \ub208\uce58\ucc48 \ubd84\ub3c4 \uc788\uaca0\uc9c0\ub9cc \uc8fc\uc11d\uc774 \uc788\ub358 ",(0,r.jsx)(n.code,{children:"@asType"}),"\uacfc ",(0,r.jsx)(n.code,{children:"@maxLength"}),", ",(0,r.jsx)(n.code,{children:"@minLength"})," \ud0a4\uc6cc\ub4dc\uac00 JSONSchema\uc5d0 \ucd94\uac00\ub41c \uac83\uc744 \ubcfc \uc218 \uc788\uc2b5\ub2c8\ub2e4. JSONSchema\uc5d0 \uc635\uc158\uc73c\ub85c \uc804\ub2ec\ud560 \uc218 \uc788\ub294 \ub2e4\uc591\ud55c \uaddc\uaca9, ",(0,r.jsx)(n.code,{children:"maxLength"})," \uc678 ",(0,r.jsx)(n.code,{children:"minItems"}),"\ub098 ",(0,r.jsx)(n.code,{children:"maxItems"}),"\uacfc \uac19\uc740 \uaddc\uaca9\uc744 \ucd94\uac00\ud560 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4. optional \uac12\uc73c\ub85c \ub9cc\ub4e4\uace0 \uc2f6\ub2e4\uba74 DTO\ub97c \uc120\uc5b8\ud560 \ub54c optional \uac12\uc73c\ub85c \uc120\uc5b8\ud558\uba74 \ub429\ub2c8\ub2e4. \uc774 \ubc29\ubc95\uc758 \uc7a5\uc810\uc740 \ud0c0\uc785 \uc120\uc5b8\uacfc OpenAPI spec. \uadf8\ub9ac\uace0 Validation\uae4c\uc9c0 \ubaa8\ub450 \ub3d9\uc77c\ud55c \uaddc\uaca9\uc73c\ub85c \uc720\uc9c0\ub41c\ub2e4\ub294 \uc810\uc785\ub2c8\ub2e4. \uadf8\ub798\uc11c \ud0c0\uc785\uc744 \ubc14\uafc0\ub54c\ub9c8\ub2e4 JSONSchema\ub97c \uc798 \uc5c5\ub370\uc774\ud2b8 \ud55c\ub2e4\uba74 OpenAPI spec.\uacfc Validation\uc774 \ud56d\uc0c1 \ucd5c\uc2e0 \uc0c1\ud0dc\ub85c \uc798 \uc720\uc9c0\ub429\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.p,{children:"\ud558\uc9c0\ub9cc \uc608\uc81c\ub85c \ucca8\ubd80\ud55c JSONSchema\ub97c \uadf8\ub300\ub85c \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0 \uc2a4\ud0a4\ub9c8\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc5b4\uc11c fastify \uc2e4\ud589\uc774 \ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. querystring, body, params, headers\uc5d0 \uc804\ub2ec\ud558\ub294 JSONSchema\ub294 definitions\uc5d0 \ucca8\ubd80\ud574\uc11c \uc0ac\uc6a9\ud558\ub294 \uac83\uc774 \uc544\ub2cc, JSONSchema \ub0b4\uc6a9 \uadf8 \uc790\uccb4 \uc774\uc5b4\uc57c \ud558\uae30 \ub54c\ubb38\uc785\ub2c8\ub2e4. \uc608\ub97c\ub4e4\uba74 \uc544\ub798\uc640 \uac19\uc774 \ubcc0\uacbd\ud574\uc57c \ud569\ub2c8\ub2e4."}),"\n",(0,r.jsxs)(D,{children:[(0,r.jsx)(v,{value:"as_is",label:"AS-IS",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'    {\n      "$ref": "#/definitions/ICategoryDto",\n      "$schema": "http://json-schema.org/draft-07/schema#",\n      "definitions": {\n        "ICategoryDto": {\n          "additionalProperties": false,\n          "description": "CategoryDto of Pet, Store",\n          "properties": {\n            "id": {\n              "description": "category id",\n              "type": "integer"\n            },\n            "name": {\n              "description": "category name",\n              "maxLength": 200,\n              "minLength": 2,\n              "type": "string"\n            }\n          },\n          "required": ["id", "name"],\n          "type": "object"\n        }\n      }\n    }\n'})})}),(0,r.jsx)(v,{value:"to_be",label:"TO-BE",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'    {\n      "$schema": "http://json-schema.org/draft-07/schema#",\n      "additionalProperties": true,\n      "description": "CategoryDto of Pet, Store",\n      "properties": {\n        "id": {\n          "description": "category id",\n          "type": "integer"\n        },\n        "name": {\n          "description": "category name",\n          "maxLength": 200,\n          "minLength": 2,\n          "type": "string"\n        }\n      },\n      "required": ["id", "name"],\n      "type": "object"\n    }\n'})})})]}),"\n",(0,r.jsx)(n.p,{children:"fastify\ub294 \ub0b4\ubd80\uc801\uc73c\ub85c \uc790\uccb4 JSONSchema \ubcf4\uad00\uc18c\ub97c \uac00\uc9c0\uace0 \uc788\uae30 \ub54c\ubb38\uc5d0 JSONSchema \ubcf4\uad00\uc18c\uc5d0 \ub4f1\ub85d\ub41c JSONSchema\ub97c \ucc38\uc870\ub85c \uc0ac\uc6a9\ud558\uac70\ub098, \uc704 \uc608\uc81c\uc640 \uac19\uc774 \ucc38\uc870 \uad6c\uc870\uac00 \uc5c6\ub294 JSONSchema\ub97c \uc804\ub2ec\ud574\uc57c \ud569\ub2c8\ub2e4. \uadf8\ub807\uc9c0 \uc54a\uc73c\uba74 \ub0b4\ubd80 JSONSchema \ubcf4\uad00\uc18c\uc5d0\uc11c \uc2a4\ud0a4\ub9c8\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc5b4\uc11c \uc624\ub958\uac00 \ubc1c\uc0dd\ud569\ub2c8\ub2e4. \uadf8\ub798\uc11c ts-json-schema-generator\ub97c"})]})}function P(e={}){const{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(w,{...e})}):w(e)}},4797:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t.p+"assets/images/Hexagonal_Architecture-7930be5354d543e3cf23876aedfc585b.svg"}}]);