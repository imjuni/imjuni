<!doctype html>
<html lang="ko" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-backend/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">Introduction | imjuni</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://imjuni.github.io/imjuni/ko/backend/"><meta data-rh="true" property="og:locale" content="ko"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" name="docusaurus_locale" content="ko"><meta data-rh="true" name="docsearch:language" content="ko"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Introduction | imjuni"><meta data-rh="true" name="description" content="Background"><meta data-rh="true" property="og:description" content="Background"><link data-rh="true" rel="icon" href="/imjuni/ko/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://imjuni.github.io/imjuni/ko/backend/"><link data-rh="true" rel="alternate" href="https://imjuni.github.io/imjuni/backend/" hreflang="en"><link data-rh="true" rel="alternate" href="https://imjuni.github.io/imjuni/ko/backend/" hreflang="ko"><link data-rh="true" rel="alternate" href="https://imjuni.github.io/imjuni/backend/" hreflang="x-default"><link rel="stylesheet" href="/imjuni/ko/assets/css/styles.f6402a44.css">
<script src="/imjuni/ko/assets/js/runtime~main.3f4e94e4.js" defer="defer"></script>
<script src="/imjuni/ko/assets/js/main.6bcb8af1.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="본문으로 건너뛰기"><a class="skipToContent_XIrk" href="#__docusaurus_skipToContent_fallback">본문으로 건너뛰기</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/imjuni/ko/"><b class="navbar__title text--truncate">imjuni</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/imjuni/ko/">About</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/imjuni" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_mtdL"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_dM09"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>한국어</a><ul class="dropdown__menu"><li><a href="/imjuni/backend/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/imjuni/ko/backend/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="ko">한국어</a></li></ul></div><div class="toggle_HCq0 colorModeToggle_TBa1"><button class="clean-btn toggleButton_mV3c toggleButtonDisabled_gPVl" type="button" disabled="" title="어두운 모드와 밝은 모드 전환하기 (현재 밝은 모드)" aria-label="어두운 모드와 밝은 모드 전환하기 (현재 밝은 모드)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_ulA6"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_jfS4"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_rBGs"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_j166"><div class="docsWrapper_WccV"><button aria-label="맨 위로 스크롤하기" class="clean-btn theme-back-to-top-button backToTopButton_zNLY" type="button"></button><div class="docRoot_pxTM"><aside class="theme-doc-sidebar-container docSidebarContainer_f0K6"><div class="sidebarViewport_VW25"><div class="sidebar_gUGL"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_owLA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/imjuni/ko/">About</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/imjuni/ko/resume/">Resume</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" aria-expanded="true" href="/imjuni/ko/backend/">Backend</a><button aria-label="Collapse sidebar category &#x27;Backend&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/imjuni/ko/backend/node/entity_dto">Node</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/imjuni/ko/opensource/jsonschema/">OpenSources</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/imjuni/ko/typescript/ctix">TypeScript</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_Mfgp"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_l2wo"><div class="docItemContainer_M9ev"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_wxjA" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="홈" class="breadcrumbs__link" href="/imjuni/ko/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_eUt2"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Backend</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_w28O theme-doc-toc-mobile tocMobile_k8pe"><button type="button" class="clean-btn tocCollapsibleButton_kVUG">이 페이지에서</button></div><div class="theme-doc-markdown markdown"><header><h1>Introduction</h1></header><h2 class="anchor anchorWithStickyNavbar_awSM" id="background">Background<a href="#background" class="hash-link" aria-label="Background에 대한 직접 링크" title="Background에 대한 직접 링크">​</a></h2>
<p>Node.js를 사용한 Backend RESTful API 개발은</p>
<p>Node.js와 TypeScript를 사용한 웹 프레임워크 중에서는 <a href="https://stackoverflow.com/questions/802050/what-is-opinionated-software" target="_blank" rel="noopener noreferrer">unopinionated</a> 프레임워크가 많습니다. <a href="https://expressjs.com/" target="_blank" rel="noopener noreferrer">express</a>, <a href="https://koajs.com/" target="_blank" rel="noopener noreferrer">koa</a> 및 <a href="https://fastify.dev/" target="_blank" rel="noopener noreferrer">fastify</a> 등이 이에 해당합니다. 프로젝트를 진행할 때, 개발자 간의 협업이 일반적이며, 이때 통일된 코드 작성 규칙이 없으면 프로젝트의 성공 가능성이 줄어듭니다. 따라서 unopinionated 프레임워크를 사용할 때는 코드 작성 규칙을 명시하기 위해 <a href="https://en.wikipedia.org/wiki/Boilerplate_code" target="_blank" rel="noopener noreferrer">boilerplate code</a>를 많이 작성하게 되는데, 이러한 반복적인 코드 작성은 Node.js와 TypeScript의 생산성이 떨어지게 합니다.</p>
<p>이러한 문제를 해결하기 위해, <a href="https://nestjs.com/" target="_blank" rel="noopener noreferrer">nest</a> 프레임워크는 엄격한 코드 작성 규칙과 세밀하게 정의된 boilerplate code를 제공합니다. nest는 좋은 프레임워크이나, <a href="https://en.wikipedia.org/wiki/Dependency_injection" target="_blank" rel="noopener noreferrer">DI</a>와 <a href="https://en.wikipedia.org/wiki/Inversion_of_control" target="_blank" rel="noopener noreferrer">IoC</a> 개념을 도입하기 위해 express와 fastify의 구조를 감추고, 기 존 코드를 Provider, Service, Module 등의 형태로 바꾸게 됩니다. 또한 <a href="https://typeorm.io/" target="_blank" rel="noopener noreferrer">typeorm</a>이나 <a href="https://www.prisma.io/" target="_blank" rel="noopener noreferrer">prisma</a>와 같은 ORM 패키지, <a href="https://axios-http.com/" target="_blank" rel="noopener noreferrer">axios</a>나 <a href="https://github.com/sindresorhus/got" target="_blank" rel="noopener noreferrer">got</a>과 같은 HTTP 클라이언트 패키지를 연동할 때도 동일한 구조를 적용해야 합니다.</p>
<p>일관된 코드 작성이 주는 장점에도 불구하고, 제 생각에는 Module, Service, Provider의 작성이나, DTO와 Request Validation을 위한 <a href="https://github.com/tc39/proposal-decorators" target="_blank" rel="noopener noreferrer">JavaScript decorator</a> 사용도 일종의 boilerplate code로 느껴졌습니다. 그래서, Node.js가 기존으로 제공하는 ESM과 CommonJS 모듈 시스템을 그대로 활용하여, 설치한 패키지를 수정 없이 사용하는 방법, 그리고 TypeScript의 인터페이스를 활용한 DTO와 Request Validation 방법을 고려하게 되었습니다. 추가로, decorator가 동적으로 작동하여 TypeScript 타입과 불일치의 위험이 있기 때문에, Compile-Time에 문제를 탐지할 수 있는 방법을 모색하게 되었습니다.</p>
<p>이러한 접근은 다음과 같은 장점이 있습니다:</p>
<ol>
<li><strong>모듈 시스템의 유연성</strong>: ESM과 CommonJS 기반으로 패키지를 사용하면, 대부분의 패키지를 그대로 가져와서 사용할 수 있습니다. 이로 인해 호환성 문제나 추가적인 설정 없이도 다양한 패키지를 편리하게 활용할 수 있게 됩니다.</li>
<li><strong>TypeScript의 최대한 활용</strong>: DTO를 TypeScript의 <a href="https://www.typescriptlang.org/docs/handbook/2/indexed-access-types.html" target="_blank" rel="noopener noreferrer">indexed access types</a> 기능을 활용하 여 작성함으로써, type-safety과 함께 코드의 명료성도 확보됩니다.</li>
<li><strong>타입 기반의 문서 자동화</strong>: <a href="https://github.com/vega/ts-json-schema-generator" target="_blank" rel="noopener noreferrer">ts-json-schema-generator</a>를 사용하여 DTO로부터 <a href="https://json-schema.org/" target="_blank" rel="noopener noreferrer">JSONSchema</a>를 자동 생성하면, 문서와 코드 간의 일관성을 유지하면서도 개발 생산성을 향상시킬 수 있습니다.</li>
<li><strong>검증 및 문서화의 통합</strong>: <a href="https://ajv.js.org/" target="_blank" rel="noopener noreferrer">ajv</a>와 <a href="https://github.com/fastify/fastify-swagger" target="_blank" rel="noopener noreferrer">fastify-swagger</a>를 활용하여 Request Validation 및 OpenAPI spec. 문서화를 손쉽게 진행할 수 있게 됩니다. 이는 팀 내에서 API 문서의 일관성 유지와 함께, 클라이언트 개발자와의 커뮤니케이션도 간소화시킵니다.</li>
<li><strong>Type-Safety 컴파일 프로세스</strong>: 모든 작업이 static compile 및 generation을 통해 이루어지므로, 개발 시점에서 타입 오류나 런타임 오류의 가능성을 크게 줄일 수 있습니다.</li>
<li><strong>boilerplate 코드 최소화</strong>: 필요한 boilerplate code는 static compile 및 generation을 통해 자동 생성되므로, 개발자는 핵심 로직에만 집중하면서도 타입 안전성을 확보할 수 있습니다.</li>
<li><strong>API Client 자동화</strong>: 앞서 언급한 문서 자동화로 인해 클라이언트를 자동으로 작성하는 <a href="https://github.com/drwpow/openapi-typescript" target="_blank" rel="noopener noreferrer">openapi-typescript</a> 또는 <a href="https://github.com/acacode/swagger-typescript-api" target="_blank" rel="noopener noreferrer">swagger-typescript-api</a> 도구를 도입할 수 있습니다</li>
</ol>
<p>결론적으로, 이러한 접근법은 개발자의 작업 부담을 줄이면 서도 높은 품질의 코드를 유지할 수 있는 방안을 제시합니다.</p>
<h2 class="anchor anchorWithStickyNavbar_awSM" id="example">Example<a href="#example" class="hash-link" aria-label="Example에 대한 직접 링크" title="Example에 대한 직접 링크">​</a></h2>
<p>지금까지 작업한 내용은 모두 <a href="https://github.com/maeumjs/maeum-pet-store" target="_blank" rel="noopener noreferrer">pet-store</a> 예제로 업로드를 하고 있습니다. 이 Repository에서 작업한 내용을 확인하고 scaffolding 코드로 사용할 수 있습니다.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="문서 페이지"><a class="pagination-nav__link pagination-nav__link--prev" href="/imjuni/ko/resume/"><div class="pagination-nav__sublabel">이전</div><div class="pagination-nav__label">ByungJoon Lee</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/imjuni/ko/backend/node/entity_dto"><div class="pagination-nav__sublabel">다음</div><div class="pagination-nav__label">Design of Entity &amp; DTO</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_eHnk thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#background" class="table-of-contents__link toc-highlight">Background</a></li><li><a href="#example" class="table-of-contents__link toc-highlight">Example</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">About</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/imjuni/ko/docs/index">About</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/imjuni" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_mtdL"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>